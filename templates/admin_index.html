<div class="ui grid page">
    <div class="row"></div>
    <div class="computer tablet only row">
        <div class="eight wide column">
            <a ng-href="#/post/new"><i class="ui add square icon"></i>New Post</a>
        </div>
        <div class="two wide column right aligned">
            <a ng-href="/admin/logout"><i class="ui sign out icon"></i>Exit</a>
        </div>
    </div>
    <div class="computer tablet only ten wide column">
        <table class="ui unstackable striped table">
            <tbody>
                <tr ng-repeat="post in posts" ng-mouseenter="show=true" ng-mouseleave="show=false">
                    <td class="collapsing">
                        <i title="[[ post.category ]]" class="ui [[ post.category ]] icon"></i>
                    </td>
                    <td><a ng-href="#/post/id/[[ post._id['$oid'] ]]" class="font">[[ post.title ]]</a>
                    </td>
                    <td class="right aligned">
                        <span ng-if="show">
                            <a title="edit" ng-href="#/post/edit/[[ post._id['$oid'] ]]">
                                <i class="ui blue link edit icon"></i>
                            </a>
                            <a title="delete" ng-click="delete([[ post._id['$oid'] ]])">
                                <i ng-if="!deleting" class="ui link red remove icon"></i>
                                <i ng-if="deleting" class="help link red loading icon"></i>
                            </a>
                                                        <a title="lock" ng-click="lock([[ post._id['$oid'] ]],[[ post.lock ]])">
                                <i ng-class="{ green:post.lock==1, black: post.lock==0, lock:post.lock==0, unlock:post.lock==1, link:true,icon: true }"></i>
                            </a>
                        </span>
                        <span ng-if="!show">
                            <a title="lock" ng-if="post.lock==1">
                                <i class="black lock icon"></i>
                            </a>
                        </span>
                    </td>
                    <td class="right aligned collapsing color">[[ post.modified_at['$date'] | date:'MMM d, y hh:mm' ]]</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>